post:
  tags:
    - Amenity
  summary: Create an amenity
  description: Creates a new amenity. Validation matches server-side Celebrate/Joi rules.
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          additionalProperties: false
          required: [label, createdBy]
          properties:
            label:
              type: string
              minLength: 2
              maxLength: 100
              description: Human-readable amenity name.
              example: Swimming Pool
            value:
              type: string
              minLength: 2
              maxLength: 100
              description: Human-readable amenity value.
              example: Available
            createdBy:
              type: string
              format: uuid
              description: Creator user ID (UUID v4/v5).
              example: b3e3b7d0-2e47-4a77-8b3a-9b4c2c7a1f91
            isActive:
              description: Optional flag; accepts boolean or the strings "true" and "false". Server coerces strings to boolean.
              oneOf:
                - type: boolean
                - type: string
                  enum: ["true", "false"]
            icon:
              type: string
              nullable: true
              description: Optional icon name or URL.
              example: "wifi"
            files:
              type: object
              description: Optional files (only images are allowed)
              additionalProperties:
                type: array
                items:
                  type: object
                  properties:
                    fieldname:
                      type: string
                      description: The name of the field in the form data
                    originalname:
                      type: string
                      description: The original name of the file
                    encoding:
                      type: string
                      description: The encoding of the file
                    mimetype:
                      type: string
                      description: The MIME type of the file
                      example: "image/jpeg"
                    destination:
                      type: string
                      description: The file upload destination
                    filename:
                      type: string
                      description: The generated name of the file
                    path:
                      type: string
                      description: The path where the file is stored
                    size:
                      type: integer
                      description: The size of the file in bytes
                      example: 102400
  responses:
    "201":
      description: Amenity created successfully
      content:
        application/json:
          schema:
            type: object
            required: [data, message]
            properties:
              data:
                type: object
                additionalProperties: false
                required: [id, label, createdBy, isActive, createdAt, updatedAt]
                properties:
                  id:
                    type: string
                    format: uuid
                  isActive:
                    type: boolean
                  label:
                    type: string
                    minLength: 2
                    maxLength: 100
                  createdBy:
                    type: string
                    format: uuid
                  icon:
                    type: string
                    nullable: true
                  mediaId:
                    type: string
                    nullable: true
                  updatedAt:
                    type: string
                    format: date-time
                  createdAt:
                    type: string
                    format: date-time
              message:
                type: string
          examples:
            success:
              value:
                data:
                  id: "c5568a9c-db14-4c0b-8745-74b8e7a987ab"
                  isActive: true
                  label: "Wifi"
                  createdBy: "068156f2-71e2-4e6d-8753-895491076e67"
                  icon: null
                  mediaId: "a1f9c9e2-6f7a-4f2e-9b5a-9f2a1b3c4d5e"
                  updatedAt: "2025-09-09T11:46:34.282Z"
                  createdAt: "2025-09-09T11:46:34.282Z"
                message: "Amenity created successfully"
    "400":
      description: Invalid input
      content:
        application/json:
          schema:
            $ref: "../../components/responses/ErrorResponse.yaml"
    "500":
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: "../../components/responses/ErrorResponse.yaml"
