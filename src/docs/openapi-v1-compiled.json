{
  "openapi": "3.0.3",
  "info": {
    "title": "Houma Middleware API",
    "version": "1.0.0",
    "description": "API documentation for Houma service.\nIncludes health check and user management endpoints.\n",
    "contact": {
      "name": "Santu Pradhan",
      "email": "santu.pradhan@indusnet.co.in"
    }
  },
  "servers": [
    {
      "url": "http://localhost:4000/api/v1",
      "description": "Local development server"
    },
    {
      "url": "http://localhost:5000/api/v1",
      "description": "Another Local development server"
    },
    {
      "url": "http://143.244.206.155:4000/api/v1",
      "description": "Local server"
    }
  ],
  "security": [
    {
      "BearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "General",
      "description": "General utility endpoints such as health checks and server status."
    },
    {
      "name": "Wilayah",
      "description": "Wilayah utility endpoints such as provinces, cities, districts, and villages."
    },
    {
      "name": "Commune",
      "description": "Commune utility endpoints such as commune."
    },
    {
      "name": "Role",
      "description": "Endpoints for managing user roles and permissions."
    },
    {
      "name": "Authentication",
      "description": "Endpoints for user login, registration, logout, and token management."
    },
    {
      "name": "User",
      "description": "Endpoints for managing user details."
    },
    {
      "name": "Amenity",
      "description": "Endpoints for managing amenity."
    },
    {
      "name": "Property Type",
      "description": "Endpoints for managing Property Type."
    },
    {
      "name": "Property",
      "description": "Endpoints for managing Property."
    },
    {
      "name": "Project",
      "description": "Endpoints for managing Project."
    },
    {
      "name": "Project Media",
      "description": "Endpoints for managing Project Media."
    }
  ],
  "paths": {
    "/healthz": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Returns the system health status and server time",
        "description": "This endpoint provides a health check for the Houma service.\nIt returns the current status of the application, uptime, memory usage,\nand database connection status.\n",
        "responses": {
          "200": {
            "description": "Server health and status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthInfo"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/role/get-roles": {
      "get": {
        "tags": [
          "Role"
        ],
        "summary": "Get Roles",
        "description": "Retrieves a paginated list of roles.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "example": 1
            },
            "required": false,
            "description": "Number of items to skip before starting to collect the result set."
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "example": 10
            },
            "required": false,
            "description": "Number of items to return per page."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response with list of roles",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": 1
                          },
                          "name": {
                            "type": "string",
                            "example": "Admin"
                          },
                          "description": {
                            "type": "string",
                            "example": "Administrator role"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "type": "integer",
                          "example": 25
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 3
                        },
                        "currentPage": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "example": 10
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "Roles fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request, validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/wilayah/get-wilayas": {
      "get": {
        "tags": [
          "Wilayah"
        ],
        "summary": "Get Wilayas",
        "description": "Retrieves a paginated list of wilayas with optional search.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "example": 1
            },
            "required": false,
            "description": "Number of items to skip before starting to collect the result set."
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "example": 10
            },
            "required": false,
            "description": "Number of items to return per page."
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string",
              "example": "Batna"
            },
            "required": false,
            "description": "Search term to filter wilayas by their name (or any other field)."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response with a list of wilayas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "c97e6b9a-802b-44b0-965e-c2735643e54c"
                          },
                          "nomFR": {
                            "type": "string",
                            "example": "Chlef"
                          },
                          "nomAR": {
                            "type": "string",
                            "example": "الشلف"
                          },
                          "nomEN": {
                            "type": "string",
                            "example": "Chlef"
                          },
                          "isActive": {
                            "type": "boolean",
                            "example": true
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-08-28T14:00:24.705Z"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-08-28T14:00:24.705Z"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "type": "integer",
                          "example": 58
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 6
                        },
                        "currentPage": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "example": 10
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "Wilayas fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request, validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/commune/get-communes": {
      "get": {
        "tags": [
          "Commune"
        ],
        "summary": "Retrieve a list of communes",
        "description": "Fetches communes with optional pagination and search by name.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items to return per page.",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number for pagination.",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term to filter communes by name.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "wilayaId",
            "in": "query",
            "description": "ID of the wilaya to filter communes by.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A list of communes matching the criteria.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "communes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid",
                                "example": "3f06fbd1-c79b-426e-a40d-104928714375"
                              },
                              "nomFR": {
                                "type": "string",
                                "example": "Boukadir"
                              },
                              "nomAR": {
                                "type": "string",
                                "example": "بوقادير"
                              },
                              "nomEN": {
                                "type": "string",
                                "example": "Boukadir"
                              },
                              "wilayaId": {
                                "type": "string",
                                "format": "uuid",
                                "example": "c97e6b9a-802b-44b0-965e-c2735643e54c"
                              },
                              "isActive": {
                                "type": "boolean",
                                "example": true
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2025-08-28T14:00:24.729Z"
                              },
                              "updatedAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2025-08-28T14:00:24.729Z"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "totalItems": {
                              "type": "integer",
                              "example": 5
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 1
                            },
                            "currentPage": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 10
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "Communes fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request due to invalid parameters.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "User Register",
        "description": "Registers a new user with details like name, email, password, phone, and role.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "firstName",
                  "lastName",
                  "email",
                  "password",
                  "phone",
                  "roleId"
                ],
                "properties": {
                  "firstName": {
                    "type": "string",
                    "example": "Ahmed"
                  },
                  "lastName": {
                    "type": "string",
                    "example": "Benali"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "radmin@yopmail.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "Asdqwe12!"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Valid Algerian mobile number",
                    "example": "0551234567"
                  },
                  "roleId": {
                    "type": "string",
                    "format": "uuid",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Registration successful, returns JWT token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "user id",
                          "example": "a1b2c3d4-e5f6-7890-abcd-1234567890ef"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "Registration successful"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request, validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Role not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict, email already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "User login",
        "description": "Authenticates a user with email and password and returns a JWT access token.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "radmin@yopmail.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "Asdqwe12!"
                  },
                  "role": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful, returns JWT token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "description": "JWT access token",
                          "example": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..."
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "Login successful"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request, validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized, invalid credentials",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/forgot-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Request password reset link",
        "description": "Sends a password reset link to the user's registered email address.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "radmin@yopmail.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset link sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Your password reset link has been sent to your email."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/reset-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Reset password",
        "description": "Resets the user's password using a valid reset token.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "token",
                  "password"
                ],
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "JWT reset token",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  },
                  "password": {
                    "type": "string",
                    "description": "New password",
                    "example": "NewPassword123!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password has been reset successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Password has been reset successfully."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/user/get-user-lists": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get user lists",
        "description": "Returns a paginated list of users with optional wildcard search and role filtering.",
        "operationId": "getUserLists",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "Wildcard search across firstName, lastName, and email.",
            "example": "santu"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "required": false,
            "description": "Page number (1-based).",
            "example": 1
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "required": false,
            "description": "Page size.",
            "example": 20
          },
          {
            "in": "query",
            "name": "where",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "URL-encoded JSON filter. Example (before URL-encoding): {\"roleId\":\"e8abefdd-a5ae-4bee-ba98-4b8c3d8d9a04\",\"roleCode\":[\"n5ea68lz\"],\"documentVerified\":\"approved\"}\n",
            "examples": {
              "sample": {
                "summary": "Filter by role, role code, and document verification",
                "value": "{\"roleId\":\"e8abefdd-a5ae-4bee-ba98-4b8c3d8d9a04\",\"roleCode\":[\"n5ea68lz\"],\"documentVerified\":\"approved\"}"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Fetched user lists successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                },
                "examples": {
                  "success": {
                    "value": {
                      "message": "Fetched user lists successfully",
                      "data": {
                        "data": [
                          {
                            "id": "e62ce3e1-ab5d-4678-9202-13f60b734681",
                            "firstName": "smjee",
                            "lastName": "smjee1",
                            "email": "smjee@yopmail.com",
                            "roleId": "c43fe513-74cb-4d6f-824f-0343c64c8cf4",
                            "isActive": true,
                            "createdAt": "2025-09-03T10:35:06.932Z",
                            "role": {
                              "id": "c43fe513-74cb-4d6f-824f-0343c64c8cf4",
                              "name": "Developer",
                              "description": "Developer with limited access"
                            }
                          },
                          {
                            "id": "566e03d3-b4f9-442c-b63f-c2ba37618f81",
                            "firstName": "Sm1",
                            "lastName": "sm2",
                            "email": "sm3@yopmail.com",
                            "roleId": "c43fe513-74cb-4d6f-824f-0343c64c8cf4",
                            "isActive": true,
                            "createdAt": "2025-09-03T08:37:02.056Z",
                            "role": {
                              "id": "c43fe513-74cb-4d6f-824f-0343c64c8cf4",
                              "name": "Developer",
                              "description": "Developer with limited access"
                            }
                          },
                          {
                            "id": "dbd6e5bb-d46e-42d3-96a9-25aabee9939e",
                            "firstName": "Sm1",
                            "lastName": "sm2",
                            "email": "sm3@mailanator.com",
                            "roleId": "c43fe513-74cb-4d6f-824f-0343c64c8cf4",
                            "isActive": true,
                            "createdAt": "2025-09-03T07:18:29.036Z",
                            "role": {
                              "id": "c43fe513-74cb-4d6f-824f-0343c64c8cf4",
                              "name": "Developer",
                              "description": "Developer with limited access"
                            }
                          }
                        ],
                        "pagination": {
                          "page": 1,
                          "pageSize": 20,
                          "total": 3,
                          "totalPages": 1,
                          "hasNextPage": false,
                          "hasPrevPage": false
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/user/me": {
      "get": {
        "summary": "Get user details by userId",
        "description": "Retrieves user details based on the provided userId",
        "tags": [
          "User"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "068156f2-71e2-4e6d-8753-895491076e67",
              "description": "If the user is an admin, they must provide the user ID; otherwise, it will be automatically taken from the token."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved user data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Fetched user details successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "068156f2-71e2-4e6d-8753-895491076e67"
                        },
                        "firstName": {
                          "type": "string",
                          "example": "Santu"
                        },
                        "lastName": {
                          "type": "string",
                          "example": "Pradhan"
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "example": "spradhan@yopmail.com"
                        },
                        "roleId": {
                          "type": "string",
                          "format": "uuid",
                          "example": "17ae7092-4c41-4a02-9256-885573f3b043"
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-08-28T14:02:29.255Z"
                        },
                        "role": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid",
                              "example": "17ae7092-4c41-4a02-9256-885573f3b043"
                            },
                            "name": {
                              "type": "string",
                              "example": "Seller"
                            },
                            "description": {
                              "type": "string",
                              "example": "Seller with limited access"
                            }
                          }
                        },
                        "userDetails": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid",
                              "example": "cc152f14-0722-496f-a0ca-17366e72de86"
                            },
                            "userId": {
                              "type": "string",
                              "format": "uuid",
                              "example": "068156f2-71e2-4e6d-8753-895491076e67"
                            },
                            "agencyName": {
                              "type": "string",
                              "example": "Best Realty"
                            },
                            "professionalLicenseId": {
                              "type": "string",
                              "example": "AGT123456"
                            },
                            "officeAddress": {
                              "type": "string",
                              "example": "123 Market Street, City"
                            },
                            "coordinates": {
                              "type": "object",
                              "properties": {
                                "crs": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "example": "name"
                                    },
                                    "properties": {
                                      "type": "object",
                                      "properties": {
                                        "name": {
                                          "type": "string",
                                          "example": "EPSG:4326"
                                        }
                                      }
                                    }
                                  }
                                },
                                "type": {
                                  "type": "string",
                                  "example": "Point"
                                },
                                "coordinates": {
                                  "type": "array",
                                  "items": {
                                    "type": "number"
                                  },
                                  "example": [
                                    77.209,
                                    28.6139
                                  ]
                                }
                              }
                            },
                            "logo": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid",
                                  "example": "c5b3719f-2f08-4a70-830d-1f223f22b784"
                                },
                                "fieldName": {
                                  "type": "string",
                                  "example": "logo"
                                },
                                "fileName": {
                                  "type": "string",
                                  "example": "Untitled Diagram (1).jpg"
                                },
                                "fileType": {
                                  "type": "string",
                                  "example": "image"
                                },
                                "mimeType": {
                                  "type": "string",
                                  "example": "image/jpeg"
                                },
                                "url": {
                                  "type": "string",
                                  "example": "D:\\\\Project\\\\Houma\\\\houma_backend\\\\gateway\\\\uploads\\\\logo-1756718878300-558596483.jpg"
                                },
                                "size": {
                                  "type": "integer",
                                  "example": 85194
                                },
                                "uploadedBy": {
                                  "type": "string",
                                  "format": "uuid",
                                  "example": "068156f2-71e2-4e6d-8753-895491076e67"
                                }
                              }
                            },
                            "website": {
                              "type": "string",
                              "example": null
                            }
                          }
                        },
                        "userDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid",
                                "example": "fd37e1ea-ccda-46b2-a872-d16177a3d181"
                              },
                              "userId": {
                                "type": "string",
                                "format": "uuid",
                                "example": "068156f2-71e2-4e6d-8753-895491076e67"
                              },
                              "mediaId": {
                                "type": "string",
                                "format": "uuid",
                                "example": "1d834f0b-6847-4d21-9c36-cdbc09ee1d27"
                              },
                              "documentType": {
                                "type": "string",
                                "example": "trade_register_certificate"
                              },
                              "status": {
                                "type": "string",
                                "example": "pending"
                              },
                              "remarks": {
                                "type": "string",
                                "example": null
                              },
                              "media": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "uuid",
                                    "example": "1d834f0b-6847-4d21-9c36-cdbc09ee1d27"
                                  },
                                  "fieldName": {
                                    "type": "string",
                                    "example": "trade_register_certificate"
                                  },
                                  "fileName": {
                                    "type": "string",
                                    "example": "Untitled Diagram (1).jpg"
                                  },
                                  "fileType": {
                                    "type": "string",
                                    "example": "image"
                                  },
                                  "mimeType": {
                                    "type": "string",
                                    "example": "image/jpeg"
                                  },
                                  "url": {
                                    "type": "string",
                                    "example": "D:\\\\Project\\\\Houma\\\\houma_backend\\\\gateway\\\\uploads\\\\trade_register_certificate-1756732076155-266293648.jpg"
                                  },
                                  "size": {
                                    "type": "integer",
                                    "example": 85194
                                  },
                                  "uploadedBy": {
                                    "type": "string",
                                    "format": "uuid",
                                    "example": "068156f2-71e2-4e6d-8753-895491076e67"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (e.g., invalid userId format)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/user/create-details": {
      "post": {
        "summary": "Create User Details",
        "tags": [
          "User"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "role",
                  "userId",
                  "wilayahId",
                  "communeId",
                  "interest"
                ],
                "properties": {
                  "role": {
                    "type": "string",
                    "enum": [
                      "Customer"
                    ],
                    "description": "Must be `Customer` for JSON requests"
                  },
                  "userId": {
                    "type": "string",
                    "enum": [
                      "Customer"
                    ],
                    "description": "Must be `Customer` for JSON requests"
                  },
                  "wilayahId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "(Customer only) Wilayah ID"
                  },
                  "communeId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "(Customer only) Commune ID"
                  },
                  "interest": {
                    "type": "string",
                    "enum": [
                      "buy",
                      "sell"
                    ],
                    "description": "(Customer only) Customer's property interest"
                  }
                }
              },
              "examples": {
                "customer": {
                  "summary": "Create a Customer",
                  "value": {
                    "userId": "068156f2-71e2-4e6d-8753-895491076e67",
                    "role": "Customer",
                    "wilayahId": "c8f32a77-1c6e-4a3e-9a7e-9d2b2a7f3a11",
                    "communeId": "f9bd0f5a-8f1c-4a58-9e7e-6a0f9d2a4c22",
                    "interest": "buy"
                  }
                }
              }
            },
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "role",
                  "userId"
                ],
                "properties": {
                  "role": {
                    "type": "string",
                    "enum": [
                      "Seller",
                      "Developer"
                    ],
                    "description": "Must be `Seller` or `Developer` for multipart",
                    "example": "Seller"
                  },
                  "userId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "User ID"
                  },
                  "officeAddress": {
                    "type": "string",
                    "description": "(Seller/Developer) Office address",
                    "example": "123 Business St, Cityville"
                  },
                  "coordinates": {
                    "type": "string",
                    "description": "(Seller/Developer) Coordinates as JSON string: {\"lat\": <number>, \"lng\": <number>}\n",
                    "example": "{\"lat\":28.6139,\"lng\":77.209}"
                  },
                  "logo": {
                    "type": "string",
                    "format": "binary",
                    "description": "(Seller/Developer) Logo file upload (image)"
                  },
                  "agencyName": {
                    "type": "string",
                    "description": "(Seller only) Agency name",
                    "example": "Prime Realty"
                  },
                  "professionalLicenseId": {
                    "type": "string",
                    "description": "(Seller only) Professional License ID",
                    "example": "LIC-123456"
                  },
                  "companyName": {
                    "type": "string",
                    "description": "(Developer only) Company name",
                    "example": "Acme DevCo"
                  },
                  "RCNumber": {
                    "type": "string",
                    "description": "(Developer only) Registration number",
                    "example": "RC-987654"
                  },
                  "website": {
                    "type": "string",
                    "description": "(Developer only) Website URL",
                    "example": "https://acme.dev"
                  }
                }
              },
              "encoding": {
                "coordinates": {
                  "contentType": "application/json"
                }
              },
              "examples": {
                "seller": {
                  "summary": "Create a Seller (multipart)",
                  "value": {
                    "role": "Seller",
                    "agencyName": "Prime Realty",
                    "professionalLicenseId": "LIC-123456",
                    "officeAddress": "123 Business St, Cityville",
                    "coordinates": "{\"lat\":28.6139,\"lng\":77.209}"
                  }
                },
                "developer": {
                  "summary": "Create a Developer (multipart)",
                  "value": {
                    "role": "Developer",
                    "companyName": "Acme DevCo",
                    "RCNumber": "RC-987654",
                    "officeAddress": "456 Tech Park, City",
                    "coordinates": "{\"lat\":28.6139,\"lng\":77.209}",
                    "website": "https://acme.dev"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User details created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid",
                      "example": "068156f2-71e2-4e6d-8753-895491076e67"
                    },
                    "message": {
                      "type": "string",
                      "example": "User details have been successfully created"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/user/create-user-documents": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Upload multiple user documents",
        "description": "Uploads trade register certificate, tax registration document, beneficial owner declaration, and optional \"other\" document.   If the caller is an admin, `userId` can be provided; otherwise it is inferred from the token.\n",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "trade_register_certificate",
                  "tax_registration_document",
                  "beneficial_owner_declaration"
                ],
                "properties": {
                  "trade_register_certificate": {
                    "type": "string",
                    "format": "binary",
                    "description": "Trade register certificate document (required)."
                  },
                  "tax_registration_document": {
                    "type": "string",
                    "format": "binary",
                    "description": "Tax registration document (required)."
                  },
                  "beneficial_owner_declaration": {
                    "type": "string",
                    "format": "binary",
                    "description": "Beneficial owner declaration (required)."
                  },
                  "other": {
                    "type": "string",
                    "format": "binary",
                    "description": "Optional additional document."
                  },
                  "userId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Admins may specify the target user; otherwise it's taken from the Bearer token.\n"
                  }
                }
              },
              "encoding": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully uploaded the documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "User documents have been successfully created"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/user/update-user": {
      "post": {
        "summary": "Update a user profile",
        "description": "Updates one or more fields of a user's profile. The request body must contain at least one of the specified fields.",
        "tags": [
          "User"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "description": "User profile data to update.",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "The unique identifier of the user. If the user is an admin, they must provide the user ID; otherwise, it will be automatically taken from the token.",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                  },
                  "firstName": {
                    "type": "string",
                    "description": "The user's first name.",
                    "minLength": 2,
                    "maxLength": 50
                  },
                  "lastName": {
                    "type": "string",
                    "description": "The user's last name.",
                    "minLength": 2,
                    "maxLength": 50
                  },
                  "password": {
                    "type": "string",
                    "description": "The user's new password.",
                    "minLength": 8,
                    "maxLength": 100
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "The user's active status."
                  }
                },
                "examples": {
                  "updateFirstName": {
                    "summary": "Update first name only",
                    "value": {
                      "userId": "123e4567-e89b-12d3-a456-426614174000",
                      "firstName": "John"
                    }
                  },
                  "updateAll": {
                    "summary": "Update multiple fields",
                    "value": {
                      "userId": "123e4567-e89b-12d3-a456-426614174000",
                      "firstName": "Jane",
                      "isActive": true,
                      "lastName": "Doe"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User profile updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "User profile updated successfully."
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "068156f2-71e2-4e6d-8753-895491076e67"
                        },
                        "firstName": {
                          "type": "string",
                          "example": "Santu"
                        },
                        "lastName": {
                          "type": "string",
                          "example": "Pradhan"
                        },
                        "email": {
                          "type": "string",
                          "example": "spradhan@yopmail.com"
                        },
                        "roleId": {
                          "type": "string",
                          "format": "uuid",
                          "example": "17ae7092-4c41-4a02-9256-885573f3b043"
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-08-28T14:02:29.255Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-09-03T09:53:05.919Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (e.g., invalid userId format)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/user/update-details": {
      "post": {
        "summary": "Update User Details",
        "tags": [
          "User"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "id",
                  "role"
                ],
                "properties": {
                  "id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "UUID of the user whose details will be updated",
                    "example": "068156f2-71e2-4e6d-8753-895491076e67"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "Customer"
                    ],
                    "description": "Must be `Customer` for JSON requests"
                  },
                  "wilayahId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "(Customer only) Wilayah ID"
                  },
                  "communeId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "(Customer only) Commune ID"
                  },
                  "interest": {
                    "type": "string",
                    "enum": [
                      "buy",
                      "sell"
                    ],
                    "description": "(Customer only) Customer's property interest"
                  }
                }
              },
              "examples": {
                "customer": {
                  "summary": "Update a Customer's details",
                  "value": {
                    "id": "068156f2-71e2-4e6d-8753-895491076e67",
                    "role": "Customer",
                    "wilayahId": "c8f32a77-1c6e-4a3e-9a7e-9d2b2a7f3a11",
                    "communeId": "f9bd0f5a-8f1c-4a58-9e7e-6a0f9d2a4c22",
                    "interest": "buy"
                  }
                }
              }
            },
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "id",
                  "role"
                ],
                "properties": {
                  "id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "068156f2-71e2-4e6d-8753-895491076e67"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "Seller",
                      "Developer"
                    ],
                    "description": "Must be `Seller` or `Developer` for multipart",
                    "example": "Seller"
                  },
                  "officeAddress": {
                    "type": "string",
                    "description": "(Seller/Developer) Office address",
                    "example": "123 Business St, Cityville"
                  },
                  "coordinates": {
                    "type": "string",
                    "description": "(Seller/Developer) Coordinates as JSON string: {\"lat\": <number>, \"lng\": <number>}\n",
                    "example": "{\"lat\":28.6139,\"lng\":77.209}"
                  },
                  "logo": {
                    "type": "string",
                    "format": "binary",
                    "description": "(Seller/Developer) Logo file upload (image)"
                  },
                  "agencyName": {
                    "type": "string",
                    "description": "(Seller only) Agency name",
                    "example": "Prime Realty"
                  },
                  "professionalLicenseId": {
                    "type": "string",
                    "description": "(Seller only) Professional License ID",
                    "example": "LIC-123456"
                  },
                  "companyName": {
                    "type": "string",
                    "description": "(Developer only) Company name",
                    "example": "Acme DevCo"
                  },
                  "RCNumber": {
                    "type": "string",
                    "description": "(Developer only) Registration number",
                    "example": "RC-987654"
                  },
                  "website": {
                    "type": "string",
                    "description": "(Developer only) Website URL",
                    "example": "https://acme.dev"
                  }
                }
              },
              "encoding": {
                "coordinates": {
                  "contentType": "application/json"
                }
              },
              "examples": {
                "seller": {
                  "summary": "Update a Seller (multipart)",
                  "value": {
                    "id": "068156f2-71e2-4e6d-8753-895491076e67",
                    "role": "Seller",
                    "agencyName": "Prime Realty",
                    "professionalLicenseId": "LIC-123456",
                    "officeAddress": "123 Business St, Cityville",
                    "coordinates": "{\"lat\":28.6139,\"lng\":77.209}"
                  }
                },
                "developer": {
                  "summary": "Update a Developer (multipart)",
                  "value": {
                    "id": "068156f2-71e2-4e6d-8753-895491076e67",
                    "role": "Developer",
                    "companyName": "Acme DevCo",
                    "RCNumber": "RC-987654",
                    "officeAddress": "456 Tech Park, City",
                    "coordinates": "{\"lat\":28.6139,\"lng\":77.209}",
                    "website": "https://acme.dev"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User details updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "User details have been successfully updated"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "description": "Internal server error"
              }
            }
          }
        }
      }
    },
    "/user/delete-user": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Delete a user by ID",
        "description": "Deletes a user by ID. Behavior may be soft- or hard-delete depending on model configuration.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "User ID (UUID v4/v5).",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "User deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "204": {
            "description": "Deleted successfully (no content)"
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (in use or constraint violation)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/amenity/create-amenity": {
      "post": {
        "tags": [
          "Amenity"
        ],
        "summary": "Create an amenity",
        "description": "Creates a new amenity. Validation matches server-side Celebrate/Joi rules.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "label",
                  "createdBy"
                ],
                "properties": {
                  "label": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "Human-readable amenity name.",
                    "example": "Swimming Pool"
                  },
                  "value": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "Human-readable amenity value.",
                    "example": "Available"
                  },
                  "createdBy": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Creator user ID (UUID v4/v5).",
                    "example": "b3e3b7d0-2e47-4a77-8b3a-9b4c2c7a1f91"
                  },
                  "isActive": {
                    "description": "Optional flag; accepts boolean or the strings \"true\" and \"false\". Server coerces strings to boolean.",
                    "oneOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "string",
                        "enum": [
                          "true",
                          "false"
                        ]
                      }
                    ]
                  },
                  "icon": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional icon name or URL.",
                    "example": "wifi"
                  },
                  "files": {
                    "type": "object",
                    "description": "Optional files (only images are allowed)",
                    "additionalProperties": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "fieldname": {
                            "type": "string",
                            "description": "The name of the field in the form data"
                          },
                          "originalname": {
                            "type": "string",
                            "description": "The original name of the file"
                          },
                          "encoding": {
                            "type": "string",
                            "description": "The encoding of the file"
                          },
                          "mimetype": {
                            "type": "string",
                            "description": "The MIME type of the file",
                            "example": "image/jpeg"
                          },
                          "destination": {
                            "type": "string",
                            "description": "The file upload destination"
                          },
                          "filename": {
                            "type": "string",
                            "description": "The generated name of the file"
                          },
                          "path": {
                            "type": "string",
                            "description": "The path where the file is stored"
                          },
                          "size": {
                            "type": "integer",
                            "description": "The size of the file in bytes",
                            "example": 102400
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Amenity created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "data",
                    "message"
                  ],
                  "properties": {
                    "data": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "id",
                        "label",
                        "createdBy",
                        "isActive",
                        "createdAt",
                        "updatedAt"
                      ],
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "label": {
                          "type": "string",
                          "minLength": 2,
                          "maxLength": 100
                        },
                        "createdBy": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "icon": {
                          "type": "string",
                          "nullable": true
                        },
                        "mediaId": {
                          "type": "string",
                          "nullable": true
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                        "isActive": true,
                        "label": "Wifi",
                        "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                        "icon": null,
                        "mediaId": "a1f9c9e2-6f7a-4f2e-9b5a-9f2a1b3c4d5e",
                        "updatedAt": "2025-09-09T11:46:34.282Z",
                        "createdAt": "2025-09-09T11:46:34.282Z"
                      },
                      "message": "Amenity created successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/amenity/get-amenities": {
      "get": {
        "tags": [
          "Amenity"
        ],
        "summary": "List amenities",
        "description": "Paginated list with optional search and isActive filter. Validation mirrors Celebrate/Joi rules.",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (1–100, default 10).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Free-text search (optional; accepts empty or null).",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "Boolean or string ('true'|'false'). Server coerces strings to boolean.",
            "required": false,
            "schema": {
              "oneOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "string",
                  "enum": [
                    "true",
                    "false"
                  ]
                }
              ]
            },
            "examples": {
              "booleanTrue": {
                "value": true
              },
              "stringFalse": {
                "value": "false"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List returned",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "amenity": [
                          {
                            "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                            "label": "Wifi",
                            "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                            "isActive": true,
                            "icon": null,
                            "mediaId": "a1f9c9e2-6f7a-4f2e-9b5a-9f2a1b3c4d5e",
                            "mediaData": {
                              "id": "a1f9c9e2-6f7a-4f2e-9b5a-9f2a1b3c4d5e",
                              "fieldName": "logo",
                              "fileName": "logo-1760099569836-785104306.png",
                              "fileType": "image",
                              "mimeType": "image/png",
                              "url": "/home/houma_docker_sftp/api/houma-backend-middleware/uploads/logo-1760099569836-785104306.png",
                              "size": 10539,
                              "uploadedBy": "708b69cc-1741-4921-921d-c83999e2103a",
                              "metadata": null
                            },
                            "createdAt": "2025-09-09T11:46:34.282Z",
                            "updatedAt": "2025-09-09T11:46:34.282Z"
                          },
                          {
                            "id": "275f0be2-9d40-4a7a-8a27-20ab268d7e7b",
                            "label": "Swimming Pool",
                            "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                            "isActive": true,
                            "icon": null,
                            "mediaId": null,
                            "mediaData": null,
                            "createdAt": "2025-09-09T11:45:39.081Z",
                            "updatedAt": "2025-09-09T11:45:39.081Z"
                          }
                        ],
                        "pagination": {
                          "totalItems": 2,
                          "totalPages": 1,
                          "currentPage": 1,
                          "pageSize": 10
                        }
                      },
                      "message": "Amenities fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/amenity/update-amenity/{id}": {
      "patch": {
        "tags": [
          "Amenity"
        ],
        "summary": "Update an amenity",
        "description": "Update label and/or isActive for an amenity. Mirrors Celebrate/Joi validation.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Amenity ID (UUID v4/v5).",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "label": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "Human-readable amenity name.",
                    "example": "Rooftop Pool"
                  },
                  "value": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "Human-readable amenity value.",
                    "example": "Available"
                  },
                  "isActive": {
                    "description": "Accepts boolean or strings \"true\"/\"false\". Server coerces strings to boolean.",
                    "oneOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "string",
                        "enum": [
                          "true",
                          "false"
                        ]
                      }
                    ]
                  },
                  "icon": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional icon name or URL.",
                    "example": "wifi"
                  },
                  "files": {
                    "type": "object",
                    "description": "Optional files (only images are allowed)",
                    "additionalProperties": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "fieldname": {
                            "type": "string",
                            "description": "The name of the field in the form data"
                          },
                          "originalname": {
                            "type": "string",
                            "description": "The original name of the file"
                          },
                          "encoding": {
                            "type": "string",
                            "description": "The encoding of the file"
                          },
                          "mimetype": {
                            "type": "string",
                            "description": "The MIME type of the file",
                            "example": "image/jpeg"
                          },
                          "destination": {
                            "type": "string",
                            "description": "The file upload destination"
                          },
                          "filename": {
                            "type": "string",
                            "description": "The generated name of the file"
                          },
                          "path": {
                            "type": "string",
                            "description": "The path where the file is stored"
                          },
                          "size": {
                            "type": "integer",
                            "description": "The size of the file in bytes",
                            "example": 102400
                          }
                        }
                      }
                    }
                  }
                }
              },
              "examples": {
                "updateLabel": {
                  "value": {
                    "label": "Rooftop Pool"
                  }
                },
                "updateActive": {
                  "value": {
                    "isActive": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Amenity updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "data",
                    "message"
                  ],
                  "properties": {
                    "data": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "id",
                        "label",
                        "createdBy",
                        "isActive",
                        "createdAt",
                        "updatedAt"
                      ],
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "label": {
                          "type": "string",
                          "minLength": 2,
                          "maxLength": 100
                        },
                        "createdBy": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "icon": {
                          "type": "string",
                          "nullable": true
                        },
                        "mediaId": {
                          "type": "string",
                          "nullable": true
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                        "label": "Rooftop Pool",
                        "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                        "isActive": true,
                        "icon": null,
                        "mediaId": "a1f9c9e2-6f7a-4f2e-9b5a-9f2a1b3c4d5e",
                        "createdAt": "2025-09-09T11:46:34.282Z",
                        "updatedAt": "2025-09-09T12:10:02.100Z"
                      },
                      "message": "Amenity updated successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Amenity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/amenity/delete-amenity/{id}": {
      "delete": {
        "tags": [
          "Amenity"
        ],
        "summary": "Delete an amenity",
        "description": "Deletes an amenity by ID. Behavior may be soft- or hard-delete depending on model configuration.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Amenity ID (UUID v4/v5).",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Amenity deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "204": {
            "description": "Deleted successfully (no content)"
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Amenity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (in use or constraint violation)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/amenity/detail-amenity/{id}": {
      "get": {
        "tags": [
          "Amenity"
        ],
        "summary": "Get amenity details by ID",
        "operationId": "getAmenityDetails",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Amenity ID (UUID)"
          }
        ],
        "responses": {
          "200": {
            "description": "Amenity fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "label": {
                          "type": "string"
                        },
                        "value": {
                          "type": "string"
                        },
                        "icon": {
                          "type": "string",
                          "nullable": true
                        },
                        "mediaId": {
                          "type": "string",
                          "nullable": true
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "createdBy": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "data": {
                    "id": "e33b2ef7-b832-4be6-8e93-61f91916ba7c",
                    "label": "Swimming Pool",
                    "icon": null,
                    "mediaId": "a1f9c9e2-6f7a-4f2e-9b5a-9f2a1b3c4d5e",
                    "isActive": true,
                    "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                    "createdAt": "2025-09-15T10:36:37.050Z",
                    "updatedAt": "2025-09-16T08:51:12.922Z"
                  },
                  "message": "Amenity fetched successfully"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property-type/create-property-type": {
      "post": {
        "summary": "Create a new property type",
        "tags": [
          "Property Type"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "label": {
                    "type": "string",
                    "description": "The label of the property type",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "House1"
                  },
                  "value": {
                    "type": "string",
                    "description": "The value of the property type",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "House1"
                  },
                  "typeOfProperty": {
                    "type": "string",
                    "description": "The type of the property type",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "Home"
                  },
                  "code": {
                    "type": "string",
                    "description": "The code of the property type",
                    "minLength": 1,
                    "maxLength": 100,
                    "example": "house112"
                  },
                  "files": {
                    "type": "object",
                    "description": "Optional files (only images are allowed)",
                    "additionalProperties": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "fieldname": {
                            "type": "string",
                            "description": "The name of the field in the form data"
                          },
                          "originalname": {
                            "type": "string",
                            "description": "The original name of the file"
                          },
                          "encoding": {
                            "type": "string",
                            "description": "The encoding of the file"
                          },
                          "mimetype": {
                            "type": "string",
                            "description": "The MIME type of the file",
                            "example": "image/jpeg"
                          },
                          "destination": {
                            "type": "string",
                            "description": "The file upload destination"
                          },
                          "filename": {
                            "type": "string",
                            "description": "The generated name of the file"
                          },
                          "path": {
                            "type": "string",
                            "description": "The path where the file is stored"
                          },
                          "size": {
                            "type": "integer",
                            "description": "The size of the file in bytes",
                            "example": 102400
                          }
                        }
                      }
                    }
                  },
                  "createdBy": {
                    "type": "string",
                    "description": "The UUID of the user who created the property type",
                    "format": "uuid",
                    "example": "b894800a-0db5-4213-8b7b-3c8d4a9b3d6c"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "Whether the property type is active",
                    "example": true
                  }
                },
                "required": [
                  "label",
                  "code",
                  "createdBy",
                  "typeOfProperty"
                ]
              }
            }
          },
          "description": "The request body to create a new property type, with optional file upload."
        },
        "responses": {
          "200": {
            "description": "Successfully created the property type",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "example": "123456789"
                    },
                    "label": {
                      "type": "string",
                      "example": "House1"
                    },
                    "value": {
                      "type": "string",
                      "example": "House1"
                    },
                    "typeOfProperty": {
                      "type": "string",
                      "example": "Home"
                    },
                    "code": {
                      "type": "string",
                      "example": "house112"
                    },
                    "isActive": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property-type/get-property-type": {
      "get": {
        "tags": [
          "Property Type"
        ],
        "summary": "List property type",
        "description": "Paginated list with optional search and isActive filter. Validation mirrors Celebrate/Joi rules.",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (1–100, default 10).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Free-text search (optional; accepts empty or null).",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "Boolean or string ('true'|'false'). Server coerces strings to boolean.",
            "required": false,
            "schema": {
              "oneOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "string",
                  "enum": [
                    "true",
                    "false"
                  ]
                }
              ]
            },
            "examples": {
              "booleanTrue": {
                "value": true
              },
              "stringFalse": {
                "value": "false"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List returned",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "propertyType": [
                          {
                            "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                            "label": "House",
                            "mediaId": "3a55a7d9-8b5d-4d31-8c3f-0de6c1c0af21",
                            "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                            "isActive": true,
                            "createdAt": "2025-09-09T11:46:34.282Z",
                            "updatedAt": "2025-09-09T11:46:34.282Z"
                          },
                          {
                            "id": "275f0be2-9d40-4a7a-8a27-20ab268d7e7b",
                            "label": "Apartment",
                            "code": "apartment",
                            "mediaId": null,
                            "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                            "isActive": true,
                            "createdAt": "2025-09-09T11:45:39.081Z",
                            "updatedAt": "2025-09-09T11:45:39.081Z"
                          }
                        ],
                        "pagination": {
                          "totalItems": 2,
                          "totalPages": 1,
                          "currentPage": 1,
                          "pageSize": 10
                        }
                      },
                      "message": "Property Type fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property-type/update-property-type/{id}": {
      "patch": {
        "tags": [
          "Property Type"
        ],
        "summary": "Update an property type",
        "description": "Update label and/or isActive for an property type. Mirrors Celebrate/Joi validation.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Property Type ID (UUID v4/v5).",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "label": {
                    "type": "string",
                    "description": "The label of the property type",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "House1"
                  },
                  "value": {
                    "type": "string",
                    "description": "The value of the property type",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "House1"
                  },
                  "typeOfProperty": {
                    "type": "string",
                    "description": "The type of the property type",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "Home"
                  },
                  "code": {
                    "type": "string",
                    "description": "The code of the property type",
                    "minLength": 1,
                    "maxLength": 100,
                    "example": "house112"
                  },
                  "files": {
                    "type": "object",
                    "description": "Optional files (only images are allowed)",
                    "additionalProperties": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "fieldname": {
                            "type": "string",
                            "description": "The name of the field in the form data"
                          },
                          "originalname": {
                            "type": "string",
                            "description": "The original name of the file"
                          },
                          "encoding": {
                            "type": "string",
                            "description": "The encoding of the file"
                          },
                          "mimetype": {
                            "type": "string",
                            "description": "The MIME type of the file",
                            "example": "image/jpeg"
                          },
                          "destination": {
                            "type": "string",
                            "description": "The file upload destination"
                          },
                          "filename": {
                            "type": "string",
                            "description": "The generated name of the file"
                          },
                          "path": {
                            "type": "string",
                            "description": "The path where the file is stored"
                          },
                          "size": {
                            "type": "integer",
                            "description": "The size of the file in bytes",
                            "example": 102400
                          }
                        }
                      }
                    }
                  },
                  "updatedBy": {
                    "type": "string",
                    "description": "The UUID of the user who updated the property type",
                    "format": "uuid",
                    "example": "b894800a-0db5-4213-8b7b-3c8d4a9b3d6c"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "Whether the property type is active",
                    "example": true
                  }
                },
                "required": [
                  "label",
                  "code",
                  "updatedBy",
                  "typeOfProperty"
                ]
              }
            }
          },
          "description": "The request body to update a property type, with optional file upload."
        },
        "responses": {
          "200": {
            "description": "Successfully updated the property type",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "example": "123456789"
                    },
                    "label": {
                      "type": "string",
                      "example": "House1"
                    },
                    "value": {
                      "type": "string",
                      "example": "House1"
                    },
                    "typeOfProperty": {
                      "type": "string",
                      "example": "Home"
                    },
                    "code": {
                      "type": "string",
                      "example": "house112"
                    },
                    "isActive": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property-type/delete-property-type/{id}": {
      "delete": {
        "tags": [
          "Property Type"
        ],
        "summary": "Delete an property type",
        "description": "Deletes an property type by ID. Behavior may be soft- or hard-delete depending on model configuration.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Property Type ID (UUID v4/v5).",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Property Type deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "204": {
            "description": "Deleted successfully (no content)"
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Property Type not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (in use or constraint violation)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property-type/detail-property-type/{id}": {
      "get": {
        "tags": [
          "Property Type"
        ],
        "summary": "Get property type details by ID",
        "operationId": "getPropertyTypeDetails",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Property Type ID (UUID)"
          }
        ],
        "responses": {
          "200": {
            "description": "Property type fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "code": {
                          "type": "string"
                        },
                        "label": {
                          "type": "string"
                        },
                        "mediaId": {
                          "type": "string",
                          "format": "uuid",
                          "nullable": true
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "createdBy": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "data": {
                    "id": "ea13c596-6299-463a-b7d6-5c4920acaa23",
                    "code": "apartment",
                    "label": "Apartment",
                    "mediaId": "3a55a7d9-8b5d-4d31-8c3f-0de6c1c0af21",
                    "isActive": true,
                    "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                    "createdAt": "2025-09-15T10:36:37.050Z",
                    "updatedAt": "2025-09-16T08:51:12.922Z"
                  },
                  "message": "Property type fetched successfully"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/create-property": {
      "post": {
        "tags": [
          "Property"
        ],
        "summary": "Create a new property",
        "description": "Creates a property listing and optionally links amenities.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status",
                  "createdBy",
                  "title",
                  "slug",
                  "listingType",
                  "propertyType",
                  "furnishingStatus",
                  "bedrooms",
                  "bathrooms",
                  "areaSqm",
                  "parkingAvailable",
                  "descriptionHtml",
                  "wilayah",
                  "commune",
                  "address",
                  "coordinates"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "available",
                      "sold",
                      "rented"
                    ],
                    "description": "Current status of the property listing.",
                    "default": "draft",
                    "example": "draft"
                  },
                  "createdBy": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the user who created the listing.",
                    "example": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                  },
                  "postedBy": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "ID of the user who posted the listing (if different from createdBy).",
                    "example": "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                  },
                  "title": {
                    "type": "string",
                    "description": "Title of the property listing.",
                    "minLength": 5,
                    "maxLength": 180,
                    "example": "Beautiful 3-Bedroom Villa with Garden"
                  },
                  "slug": {
                    "type": "string",
                    "description": "URL-friendly slug for the listing (e.g., beautiful-3-bedroom-villa).",
                    "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$",
                    "minLength": 3,
                    "maxLength": 220,
                    "example": "beautiful-3-bedroom-villa-with-garden"
                  },
                  "listingType": {
                    "type": "string",
                    "enum": [
                      "sell",
                      "buy"
                    ],
                    "description": "Type of transaction for the property.",
                    "example": "sell"
                  },
                  "propertyType": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the property type (e.g., apartment, house, land).",
                    "example": "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                  },
                  "minPrice": {
                    "type": "number",
                    "format": "float",
                    "nullable": true,
                    "description": "The minimum asking price or rental fee for the property.",
                    "example": 1500000
                  },
                  "maxPrice": {
                    "type": "number",
                    "format": "float",
                    "nullable": true,
                    "description": "The maximum asking price or rental fee for the property.",
                    "example": 2000000
                  },
                  "showPrice": {
                    "type": "boolean",
                    "default": false,
                    "description": "Whether to display the price publicly.",
                    "example": true
                  },
                  "installmentAvailable": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if installment payments are available.",
                    "example": true
                  },
                  "acceptMortgage": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if mortgage is accepted for the property.",
                    "example": true
                  },
                  "legalDocuments": {
                    "type": "string",
                    "enum": [
                      "act",
                      "booklet"
                    ],
                    "nullable": true,
                    "description": "Type of legal documents available for the property.",
                    "example": "act"
                  },
                  "furnishingStatus": {
                    "type": "string",
                    "enum": [
                      "unfurnished",
                      "semi_furnished",
                      "furnished"
                    ],
                    "description": "Furnishing status of the property.",
                    "example": "furnished"
                  },
                  "bedrooms": {
                    "type": "integer",
                    "description": "Number of bedrooms.",
                    "minimum": 0,
                    "maximum": 50,
                    "example": 3
                  },
                  "bathrooms": {
                    "type": "integer",
                    "description": "Number of bathrooms.",
                    "minimum": 0,
                    "maximum": 50,
                    "example": 2
                  },
                  "areaSqm": {
                    "type": "number",
                    "format": "float",
                    "description": "Area of the property in square meters.",
                    "example": 180.5
                  },
                  "areaType": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 60,
                    "default": "sqm",
                    "description": "Unit for the area (e.g., sqm, sqft).",
                    "example": "sqm"
                  },
                  "yearBuilt": {
                    "type": "integer",
                    "nullable": true,
                    "description": "The year the property was built.",
                    "minimum": 1800,
                    "maximum": 2100,
                    "example": 2010
                  },
                  "floorNumber": {
                    "type": "integer",
                    "nullable": true,
                    "description": "The specific floor number if applicable (e.g., for apartments).",
                    "minimum": 0,
                    "maximum": 200,
                    "example": 5
                  },
                  "totalFloors": {
                    "type": "integer",
                    "nullable": true,
                    "description": "Total number of floors in the building.",
                    "minimum": 0,
                    "maximum": 200,
                    "example": 10
                  },
                  "parkingAvailable": {
                    "type": "boolean",
                    "description": "Indicates if parking is available with the property.",
                    "example": true
                  },
                  "descriptionHtml": {
                    "type": "string",
                    "description": "Detailed description of the property (HTML allowed).",
                    "example": "<p>This stunning villa features...</p>"
                  },
                  "highlights": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the property is a highlight.",
                    "example": true
                  },
                  "wilayah": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Administrative region ID.",
                    "example": "12345678-abcd-ef01-2345-6789abcdef01"
                  },
                  "commune": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Smaller administrative division ID.",
                    "example": "fedcba98-7654-3210-fedc-ba9876543210"
                  },
                  "address": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 180,
                    "description": "Client-facing address (mapped to street).",
                    "example": "Jl. Sudirman No. 123, Jakarta"
                  },
                  "contactNumber": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "nullable": true,
                    "default": [],
                    "description": "An array of contact phone numbers.",
                    "example": [
                      "+213555123456",
                      "+213777987654"
                    ]
                  },
                  "coordinates": {
                    "type": "object",
                    "nullable": true,
                    "description": "Geographic coordinates of the property.",
                    "properties": {
                      "lat": {
                        "type": "number",
                        "format": "float",
                        "description": "Latitude of the property.",
                        "example": 28.6139
                      },
                      "lng": {
                        "type": "number",
                        "format": "float",
                        "description": "Longitude of the property.",
                        "example": 77.209
                      }
                    },
                    "required": [
                      "lat",
                      "lng"
                    ]
                  },
                  "amenityIds": {
                    "type": "array",
                    "description": "Array of Amenity UUIDs (unique).",
                    "uniqueItems": true,
                    "maxItems": 100,
                    "items": {
                      "type": "string",
                      "format": "uuid"
                    }
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email of the property owner.",
                    "example": "john.doe@example.com"
                  },
                  "lift": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the property has a lift/elevator.",
                    "example": true
                  },
                  "newBuild": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the property is a new build.",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "examples": {
                  "Created": {
                    "value": {
                      "data": {
                        "id": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                        "status": "draft",
                        "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                        "title": "Modern 3-Bedroom Apartment in Downtown",
                        "slug": "modern-3-bedroom-apartment-in-downtown",
                        "listingType": "rent",
                        "propertyType": "ea13c596-6299-463a-b7d6-5c4920acaa23",
                        "minPrice": 1200,
                        "maxPrice": null,
                        "showPrice": false,
                        "installmentAvailable": false,
                        "acceptMortgage": false,
                        "legalDocuments": null,
                        "furnishingStatus": "semi_furnished",
                        "bedrooms": 3,
                        "bathrooms": 2,
                        "areaSqm": 95.5,
                        "areaType": "sqm",
                        "yearBuilt": 2015,
                        "floorNumber": 5,
                        "totalFloors": 12,
                        "parkingAvailable": true,
                        "descriptionHtml": "<p>A spacious 3-bedroom apartment with modern finishes, close to metro and schools.</p>",
                        "highlights": false,
                        "wilayah": "c97e6b9a-802b-44b0-965e-c2735643e54c",
                        "commune": "3f06fbd1-c79b-426e-a40d-104928714375",
                        "address": "123 Main Street",
                        "contactNumber": [],
                        "coordinates": {
                          "lat": 36.7538,
                          "lng": 3.0588
                        },
                        "updatedAt": "2025-09-15T09:29:31.766Z",
                        "createdAt": "2025-09-15T09:29:31.766Z",
                        "published_at": null,
                        "deletedAt": null,
                        "email": "john.doe@example.com",
                        "lift": false,
                        "newBuild": false
                      },
                      "message": "Property created successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/get-properties": {
      "get": {
        "tags": [
          "Property"
        ],
        "summary": "List properties",
        "description": "Paginated list of properties with optional search, field selection, and advanced filters.\nValidation mirrors Celebrate/Joi rules.\n",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (1–100, default 10).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Free-text search on title and slug (optional; accepts empty or null).",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "select",
            "in": "query",
            "description": "Comma-separated list of fields to include (letters, numbers, underscores).",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^[a-zA-Z0-9_,]+$"
            },
            "examples": {
              "example": {
                "value": "id,title,slug,price,status"
              }
            }
          },
          {
            "name": "where",
            "in": "query",
            "description": "Stringified JSON object for advanced filtering. It will be parsed server-side.",
            "required": false,
            "schema": {
              "type": "string"
            },
            "examples": {
              "byStatusAndType": {
                "summary": "Filter by status and propertyType",
                "value": "{\"propertyType\":\"ea13c596-6299-463a-b7d6-5c4920acaa23\",\"status\": \"available\",\"wilayah\":\"c97e6b9a-802b-44b0-965e-c2735643e54c\", \"commune\": \"3f06fbd1-c79b-426e-a40d-104928714375\"}"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List returned",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "propertyType": [
                          {
                            "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                            "title": "Spacious Family Home",
                            "slug": "spacious-family-home",
                            "listingType": "sell",
                            "status": "available",
                            "price": "250000.00",
                            "createdAt": "2025-09-09T11:46:34.282Z",
                            "updatedAt": "2025-09-09T11:46:34.282Z"
                          },
                          {
                            "id": "275f0be2-9d40-4a7a-8a27-20ab268d7e7b",
                            "title": "Modern Apartment Downtown",
                            "slug": "modern-apartment-downtown",
                            "listingType": "rent",
                            "status": "available",
                            "price": "1200.00",
                            "createdAt": "2025-09-09T11:45:39.081Z",
                            "updatedAt": "2025-09-09T11:45:39.081Z"
                          }
                        ],
                        "pagination": {
                          "totalItems": 2,
                          "totalPages": 1,
                          "currentPage": 1,
                          "pageSize": 10
                        }
                      },
                      "message": "Property fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/update-property/{id}": {
      "patch": {
        "tags": [
          "Property"
        ],
        "summary": "Update a property",
        "description": "Update an existing property listing by ID. All fields are optional; only provided fields will be updated.\nValidation mirrors Celebrate/Joi rules used by the API.\n",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Property ID (UUID v4 or v5)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "5ef4c133-968f-4211-90e1-f9f4d2082485"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status",
                  "createdBy",
                  "title",
                  "slug",
                  "listingType",
                  "propertyType",
                  "furnishingStatus",
                  "bedrooms",
                  "bathrooms",
                  "areaSqm",
                  "parkingAvailable",
                  "descriptionHtml",
                  "wilayah",
                  "commune",
                  "address",
                  "coordinates"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "available",
                      "sold",
                      "rented"
                    ],
                    "description": "Current status of the property listing.",
                    "default": "draft",
                    "example": "available"
                  },
                  "createdBy": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the user who created the listing (cannot be updated).",
                    "example": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                  },
                  "postedBy": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "ID of the user who posted the listing (optional, can be updated).",
                    "example": "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                  },
                  "title": {
                    "type": "string",
                    "description": "Title of the property listing.",
                    "minLength": 5,
                    "maxLength": 180,
                    "example": "Beautiful 3-Bedroom Villa with Garden"
                  },
                  "slug": {
                    "type": "string",
                    "description": "URL-friendly slug for the listing (e.g., beautiful-3-bedroom-villa).",
                    "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$",
                    "minLength": 3,
                    "maxLength": 220,
                    "example": "beautiful-3-bedroom-villa-with-garden"
                  },
                  "listingType": {
                    "type": "string",
                    "enum": [
                      "sell",
                      "buy"
                    ],
                    "description": "Type of transaction for the property.",
                    "example": "rent"
                  },
                  "propertyType": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the property type (e.g., apartment, house, land).",
                    "example": "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                  },
                  "minPrice": {
                    "type": "number",
                    "format": "float",
                    "nullable": true,
                    "description": "The minimum asking price or rental fee for the property.",
                    "example": 1500000
                  },
                  "maxPrice": {
                    "type": "number",
                    "format": "float",
                    "nullable": true,
                    "description": "The maximum asking price or rental fee for the property.",
                    "example": 2000000
                  },
                  "showPrice": {
                    "type": "boolean",
                    "default": false,
                    "description": "Whether to display the price publicly.",
                    "example": true
                  },
                  "installmentAvailable": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if installment payments are available.",
                    "example": true
                  },
                  "acceptMortgage": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if mortgage is accepted for the property.",
                    "example": true
                  },
                  "legalDocuments": {
                    "type": "string",
                    "enum": [
                      "act",
                      "booklet"
                    ],
                    "nullable": true,
                    "description": "Type of legal documents available for the property.",
                    "example": "booklet"
                  },
                  "furnishingStatus": {
                    "type": "string",
                    "enum": [
                      "unfurnished",
                      "semi_furnished",
                      "furnished"
                    ],
                    "description": "Furnishing status of the property.",
                    "example": "semi_furnished"
                  },
                  "bedrooms": {
                    "type": "integer",
                    "description": "Number of bedrooms.",
                    "minimum": 0,
                    "maximum": 50,
                    "example": 3
                  },
                  "bathrooms": {
                    "type": "integer",
                    "description": "Number of bathrooms.",
                    "minimum": 0,
                    "maximum": 50,
                    "example": 2
                  },
                  "areaSqm": {
                    "type": "number",
                    "format": "float",
                    "description": "Area of the property in square meters.",
                    "example": 180.5
                  },
                  "areaType": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 60,
                    "default": "sqm",
                    "description": "Unit for the area (e.g., sqm, sqft).",
                    "example": "sqm"
                  },
                  "yearBuilt": {
                    "type": "integer",
                    "nullable": true,
                    "description": "The year the property was built.",
                    "minimum": 1800,
                    "maximum": 2100,
                    "example": 2010
                  },
                  "floorNumber": {
                    "type": "integer",
                    "nullable": true,
                    "description": "The specific floor number if applicable (e.g., for apartments).",
                    "minimum": 0,
                    "maximum": 200,
                    "example": 5
                  },
                  "totalFloors": {
                    "type": "integer",
                    "nullable": true,
                    "description": "Total number of floors in the building.",
                    "minimum": 0,
                    "maximum": 200,
                    "example": 10
                  },
                  "parkingAvailable": {
                    "type": "boolean",
                    "description": "Indicates if parking is available with the property.",
                    "example": true
                  },
                  "descriptionHtml": {
                    "type": "string",
                    "description": "Detailed description of the property (HTML allowed).",
                    "example": "<p>This stunning villa features...</p>"
                  },
                  "highlights": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the property is a highlight.",
                    "example": true
                  },
                  "wilayah": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Administrative region ID.",
                    "example": "12345678-abcd-ef01-2345-6789abcdef01"
                  },
                  "commune": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Smaller administrative division ID.",
                    "example": "fedcba98-7654-3210-fedc-ba9876543210"
                  },
                  "address": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 180,
                    "description": "Client-facing address (mapped to street).",
                    "example": "Jl. Sudirman No. 123, Jakarta"
                  },
                  "contactNumber": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "nullable": true,
                    "default": [],
                    "description": "An array of contact phone numbers.",
                    "example": [
                      "+213555123456",
                      "+213777987654"
                    ]
                  },
                  "coordinates": {
                    "type": "object",
                    "nullable": true,
                    "description": "Geographic coordinates of the property.",
                    "properties": {
                      "lat": {
                        "type": "number",
                        "format": "float",
                        "description": "Latitude of the property.",
                        "example": 28.6139
                      },
                      "lng": {
                        "type": "number",
                        "format": "float",
                        "description": "Longitude of the property.",
                        "example": 77.209
                      }
                    },
                    "required": [
                      "lat",
                      "lng"
                    ]
                  },
                  "amenityIds": {
                    "type": "array",
                    "description": "Array of Amenity UUIDs (unique).",
                    "uniqueItems": true,
                    "maxItems": 100,
                    "items": {
                      "type": "string",
                      "format": "uuid"
                    }
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email of the property owner.",
                    "example": "john.doe@example.com"
                  },
                  "projectId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "ID of the associated project (if any).",
                    "example": "abcdef12-3456-7890-abcd-ef1234567890"
                  },
                  "lift": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the property has a lift/elevator.",
                    "example": true
                  },
                  "newBuild": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates if the property is a new build.",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Updated": {
                    "value": {
                      "data": {
                        "id": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                        "status": "available",
                        "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                        "title": "Updated 3-Bedroom Apartment in Downtown",
                        "slug": "updated-3-bedroom-apartment-in-downtown",
                        "listingType": "rent",
                        "propertyType": "ea13c596-6299-463a-b7d6-5c4920acaa23",
                        "minPrice": 1300,
                        "maxPrice": null,
                        "showPrice": true,
                        "installmentAvailable": true,
                        "acceptMortgage": true,
                        "legalDocuments": "act",
                        "furnishingStatus": "furnished",
                        "bedrooms": 3,
                        "bathrooms": 2,
                        "areaSqm": 95.5,
                        "areaType": "sqm",
                        "yearBuilt": 2015,
                        "floorNumber": 5,
                        "totalFloors": 12,
                        "parkingAvailable": true,
                        "descriptionHtml": "<p>A spacious 3-bedroom apartment with modern finishes, close to metro and schools.</p>",
                        "highlights": false,
                        "wilayah": "c97e6b9a-802b-44b0-965e-c2735643e54c",
                        "commune": "3f06fbd1-c79b-426e-a40d-104928714375",
                        "address": "123 Main Street",
                        "contactNumber": [],
                        "coordinates": {
                          "lat": 36.7538,
                          "lng": 3.0588
                        },
                        "updatedAt": "2025-09-15T09:29:31.766Z",
                        "createdAt": "2025-09-15T09:29:31.766Z",
                        "published_at": null,
                        "deletedAt": null,
                        "email": "john.doe@example.com",
                        "projectId": "abcdef12-3456-7890-abcd-ef1234567890",
                        "lift": false,
                        "newBuild": false
                      },
                      "message": "Property updated successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/delete-property/{id}": {
      "delete": {
        "tags": [
          "Property"
        ],
        "summary": "Delete an Property",
        "description": "Deletes an Property  by ID. Behavior may be soft- or hard-delete depending on model configuration.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Property  ID (UUID v4/v5).",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Property  deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "204": {
            "description": "Deleted successfully (no content)"
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Property  not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (in use or constraint violation)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/detail-property/{id}": {
      "get": {
        "tags": [
          "Property"
        ],
        "summary": "Get property details by ID",
        "operationId": "getPropertyDetails",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Property ID (UUID)"
          }
        ],
        "responses": {
          "200": {
            "description": "Property fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "createdBy": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "title": {
                          "type": "string"
                        },
                        "slug": {
                          "type": "string"
                        },
                        "listingType": {
                          "type": "string",
                          "enum": [
                            "sell",
                            "rent"
                          ]
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "draft",
                            "available",
                            "sold",
                            "rented"
                          ]
                        },
                        "furnishingStatus": {
                          "type": "string",
                          "enum": [
                            "unfurnished",
                            "semi_furnished",
                            "furnished"
                          ]
                        },
                        "price": {
                          "type": "string"
                        },
                        "bedrooms": {
                          "type": "integer"
                        },
                        "bathrooms": {
                          "type": "integer"
                        },
                        "areaSqm": {
                          "type": "string"
                        },
                        "yearBuilt": {
                          "type": "integer",
                          "nullable": true
                        },
                        "floorNumber": {
                          "type": "integer",
                          "nullable": true
                        },
                        "totalFloors": {
                          "type": "integer",
                          "nullable": true
                        },
                        "parkingAvailable": {
                          "type": "boolean"
                        },
                        "descriptionHtml": {
                          "type": "string"
                        },
                        "highlights": {
                          "type": "string",
                          "nullable": true
                        },
                        "wilayah": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "commune": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "address": {
                          "type": "string",
                          "nullable": true
                        },
                        "coordinates": {
                          "type": "object",
                          "properties": {
                            "crs": {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "properties": {
                                  "type": "object",
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            },
                            "type": {
                              "type": "string"
                            },
                            "coordinates": {
                              "type": "array",
                              "items": {
                                "type": "number"
                              },
                              "minItems": 2,
                              "maxItems": 2
                            }
                          }
                        },
                        "published_at": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true
                        },
                        "amenities": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "label": {
                                "type": "string"
                              },
                              "icon": {
                                "type": "string",
                                "nullable": true
                              },
                              "isActive": {
                                "type": "boolean"
                              }
                            }
                          }
                        },
                        "propertyType": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "code": {
                              "type": "string"
                            },
                            "label": {
                              "type": "string"
                            },
                            "isActive": {
                              "type": "boolean"
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "data": {
                    "id": "1b09cb4b-33eb-4d06-951e-9dff2e4ba17b",
                    "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                    "title": "Modern 4-Bedroom Apartment",
                    "slug": "modern-4-bedroom-apartment",
                    "listingType": "rent",
                    "status": "draft",
                    "furnishingStatus": "semi_furnished",
                    "price": "1200.00",
                    "bedrooms": 3,
                    "bathrooms": 2,
                    "areaSqm": "95.50",
                    "yearBuilt": 2015,
                    "floorNumber": 5,
                    "totalFloors": 12,
                    "parkingAvailable": true,
                    "descriptionHtml": "<p>A spacious 3-bedroom apartment with modern finishes, close to metro and schools.</p>",
                    "highlights": "Balcony with city view; 24/7 security; Gym access",
                    "wilayah": "c97e6b9a-802b-44b0-965e-c2735643e54c",
                    "commune": "3f06fbd1-c79b-426e-a40d-104928714375",
                    "address": "123 Main Street",
                    "coordinates": {
                      "crs": {
                        "type": "name",
                        "properties": {
                          "name": "EPSG:4326"
                        }
                      },
                      "type": "Point",
                      "coordinates": [
                        3.0588,
                        36.7538
                      ]
                    },
                    "published_at": null,
                    "createdAt": "2025-09-15T10:36:37.050Z",
                    "updatedAt": "2025-09-16T08:51:12.922Z",
                    "deletedAt": null,
                    "amenities": [
                      {
                        "id": "e33b2ef7-b832-4be6-8e93-61f91916ba7c",
                        "label": "Swimming Pool",
                        "icon": null,
                        "isActive": true
                      }
                    ],
                    "propertyType": {
                      "id": "ea13c596-6299-463a-b7d6-5c4920acaa23",
                      "code": "apartment",
                      "label": "Apartment",
                      "isActive": true
                    }
                  },
                  "message": "Property fetched successfully"
                }
              }
            }
          }
        }
      }
    },
    "/property/create-property-media": {
      "post": {
        "tags": [
          "Property"
        ],
        "summary": "Create property media",
        "operationId": "createPropertyMedia",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "propertyId",
                  "media"
                ],
                "properties": {
                  "propertyId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "The property to attach media to."
                  },
                  "media": {
                    "type": "array",
                    "description": "One or more files to upload (images or videos).",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  },
                  "videoLink": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional external video URL."
                  },
                  "videoLinkType": {
                    "type": "string",
                    "nullable": true,
                    "enum": [
                      "youtube",
                      "vimeo"
                    ],
                    "description": "Required if videoLink is provided."
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "approved",
                      "rejected"
                    ],
                    "default": "pending"
                  },
                  "remarks": {
                    "type": "string",
                    "nullable": true
                  },
                  "video": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri"
                        },
                        "type": {
                          "type": "string",
                          "enum": [
                            "youtube",
                            "vimeo"
                          ],
                          "nullable": true
                        }
                      }
                    }
                  }
                }
              },
              "encoding": {
                "media": {
                  "contentType": "application/octet-stream",
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Property media created successfully",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "id": "a1e2b3c4-d5e6-7890-1234-56789abcdef0",
                      "propertyId": "1b09cb4b-33eb-4d06-951e-9dff2e4ba17b",
                      "mediaId": "9a8b7c6d-5e4f-3210-9876-54321fedcba9",
                      "videoLink": null,
                      "videoLinkType": null,
                      "status": "pending",
                      "remarks": null,
                      "createdAt": "2025-09-19T10:00:00.000Z",
                      "updatedAt": "2025-09-19T10:00:00.000Z"
                    },
                    {
                      "id": "b2f3c4d5-e6a7-8901-2345-67890abcdef1",
                      "propertyId": "1b09cb4b-33eb-4d06-951e-9dff2e4ba17b",
                      "mediaId": "ab12cd34-ef56-7890-ab12-cd34ef567890",
                      "videoLink": null,
                      "videoLinkType": null,
                      "status": "pending",
                      "remarks": null,
                      "createdAt": "2025-09-19T10:00:00.000Z",
                      "updatedAt": "2025-09-19T10:00:00.000Z",
                      "video": [
                        {
                          "url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
                          "type": "youtube"
                        },
                        {
                          "url": "https://vimeo.com/123456789",
                          "type": "vimeo"
                        }
                      ]
                    }
                  ],
                  "message": "Property media created successfully"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/delete-property-media/{id}": {
      "delete": {
        "tags": [
          "Property"
        ],
        "summary": "Delete property media",
        "operationId": "deletePropertyMedia",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Property media deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "data": true,
                  "message": "Property media deleted successfully"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/get-property-media": {
      "get": {
        "tags": [
          "Property"
        ],
        "summary": "Get property media list",
        "operationId": "getPropertyMedia",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "where",
            "in": "query",
            "description": "Stringified JSON object for advanced filtering. It will be parsed server-side.",
            "required": false,
            "schema": {
              "type": "string"
            },
            "examples": {
              "byStatusAndType": {
                "summary": "Filter propertyId",
                "value": "{\"\"propertyId\"\":\"ea13c596-6299-463a-b7d6-5c4920acaa23\",\"status\": \"pending\"}"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Property media fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "propertyMedia": {
                          "type": "array",
                          "items": null
                        },
                        "pagination": null
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "data": {
                    "propertyMedia": [
                      {
                        "id": "a1e2b3c4-d5e6-7890-1234-56789abcdef0",
                        "propertyId": "1b09cb4b-33eb-4d06-951e-9dff2e4ba17b",
                        "mediaId": "9a8b7c6d-5e4f-3210-9876-54321fedcba9",
                        "videoLink": null,
                        "videoLinkType": null,
                        "status": "pending",
                        "remarks": null,
                        "createdAt": "2025-09-19T10:00:00.000Z",
                        "updatedAt": "2025-09-19T10:00:00.000Z"
                      }
                    ],
                    "pagination": {
                      "totalItems": 1,
                      "totalPages": 1,
                      "currentPage": 1,
                      "pageSize": 10
                    }
                  },
                  "message": "Property media fetched successfully"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/detail-property-media/{id}": {
      "get": {
        "tags": [
          "Property"
        ],
        "summary": "Get property media details by ID",
        "operationId": "getPropertyMediaDetails",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Property media fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": null,
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "data": {
                    "id": "a1e2b3c4-d5e6-7890-1234-56789abcdef0",
                    "propertyId": "1b09cb4b-33eb-4d06-951e-9dff2e4ba17b",
                    "mediaId": "9a8b7c6d-5e4f-3210-9876-54321fedcba9",
                    "videoLink": null,
                    "videoLinkType": null,
                    "status": "pending",
                    "remarks": null,
                    "createdAt": "2025-09-19T10:00:00.000Z",
                    "updatedAt": "2025-09-19T10:00:00.000Z"
                  },
                  "message": "Property media fetched successfully"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/property/update-property-media/{id}": {
      "patch": {
        "tags": [
          "Property"
        ],
        "summary": "Update property media",
        "operationId": "updatePropertyMedia",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "approved",
                      "rejected"
                    ]
                  },
                  "remarks": {
                    "type": "string",
                    "nullable": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Property media updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": null,
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "data": {
                    "id": "a1e2b3c4-d5e6-7890-1234-56789abcdef0",
                    "propertyId": "1b09cb4b-33eb-4d06-951e-9dff2e4ba17b",
                    "mediaId": "9a8b7c6d-5e4f-3210-9876-54321fedcba9",
                    "videoLink": "https://youtu.be/xyz",
                    "videoLinkType": "youtube",
                    "status": "approved",
                    "remarks": "Approved by admin",
                    "createdAt": "2025-09-19T10:00:00.000Z",
                    "updatedAt": "2025-09-19T12:00:00.000Z"
                  },
                  "message": "Property media updated successfully"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/create-project": {
      "post": {
        "tags": [
          "Project"
        ],
        "summary": "Create a new project",
        "description": "Creates a new project with location, type, and unit information.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "createdBy",
                  "title",
                  "slug",
                  "wilayah",
                  "commune",
                  "projectType",
                  "totalUnits",
                  "unitsAvailable",
                  "description"
                ],
                "properties": {
                  "createdBy": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the user who created the project.",
                    "example": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                  },
                  "postedBy": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "ID of the user who posted the project (if different from createdBy).",
                    "example": "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                  },
                  "title": {
                    "type": "string",
                    "description": "Title of the project.",
                    "minLength": 5,
                    "maxLength": 180,
                    "example": "Modern Residential Complex Downtown"
                  },
                  "slug": {
                    "type": "string",
                    "description": "URL-friendly slug for the project.",
                    "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$",
                    "minLength": 3,
                    "maxLength": 250,
                    "example": "modern-residential-complex-downtown"
                  },
                  "wilayah": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Administrative region ID.",
                    "example": "12345678-abcd-ef01-2345-6789abcdef01"
                  },
                  "commune": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Smaller administrative division ID.",
                    "example": "fedcba98-7654-3210-fedc-ba9876543210"
                  },
                  "address": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 1000,
                    "description": "Full address of the project.",
                    "example": "123 Main Street, Downtown District"
                  },
                  "coordinates": {
                    "type": "object",
                    "nullable": true,
                    "description": "Geographic coordinates of the project.",
                    "properties": {
                      "lat": {
                        "type": "number",
                        "format": "float",
                        "description": "Latitude of the project.",
                        "example": 28.6139
                      },
                      "lng": {
                        "type": "number",
                        "format": "float",
                        "description": "Longitude of the project.",
                        "example": 77.209
                      }
                    },
                    "required": [
                      "lat",
                      "lng"
                    ]
                  },
                  "projectType": {
                    "type": "string",
                    "enum": [
                      "residential",
                      "commercial",
                      "mixed"
                    ],
                    "description": "Type of the project.",
                    "example": "residential"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "under_construction",
                      "completed"
                    ],
                    "description": "Current status of the project.",
                    "default": "draft",
                    "example": "draft"
                  },
                  "totalUnits": {
                    "type": "integer",
                    "description": "Total number of units in the project.",
                    "minimum": 1,
                    "maximum": 10000,
                    "example": 150
                  },
                  "unitsAvailable": {
                    "type": "integer",
                    "description": "Number of units currently available.",
                    "minimum": 0,
                    "maximum": 10000,
                    "example": 45
                  },
                  "description": {
                    "type": "string",
                    "description": "Detailed description of the project.",
                    "minLength": 10,
                    "maxLength": 5000,
                    "example": "A modern residential complex featuring luxury apartments with state-of-the-art amenities, located in the heart of downtown."
                  },
                  "published_at": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "Date when the project was published.",
                    "example": "2025-01-15T10:30:00Z"
                  },
                  "amenityIds": {
                    "type": "array",
                    "description": "Array of Amenity UUIDs associated with the project.",
                    "uniqueItems": true,
                    "maxItems": 100,
                    "items": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "example": [
                      "a1b2c3d4-e5f6-7890-1234-567890abcdef",
                      "b2c3d4e5-f6g7-8901-2345-678901bcdefg"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Project created successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Created": {
                    "value": {
                      "data": {
                        "id": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                        "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                        "postedBy": null,
                        "title": "Modern Residential Complex Downtown",
                        "slug": "modern-residential-complex-downtown",
                        "wilayah": "c97e6b9a-802b-44b0-965e-c2735643e54c",
                        "commune": "3f06fbd1-c79b-426e-a40d-104928714375",
                        "address": "123 Main Street, Downtown District",
                        "coordinates": {
                          "lat": 28.6139,
                          "lng": 77.209
                        },
                        "projectType": "residential",
                        "status": "draft",
                        "totalUnits": 150,
                        "unitsAvailable": 45,
                        "description": "A modern residential complex featuring luxury apartments with state-of-the-art amenities, located in the heart of downtown.",
                        "published_at": null,
                        "createdAt": "2025-01-15T09:29:31.766Z",
                        "updatedAt": "2025-01-15T09:29:31.766Z",
                        "deletedAt": null
                      },
                      "message": "Project created successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/get-projects": {
      "get": {
        "tags": [
          "Project"
        ],
        "summary": "List projects",
        "description": "Paginated list of projects with optional search, field selection, and advanced filters.\nValidation mirrors Celebrate/Joi rules.\n",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (1–100, default 10).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Free-text search on title and slug (optional; accepts empty or null).",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "select",
            "in": "query",
            "description": "Comma-separated list of fields to include (letters, numbers, underscores).",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^[a-zA-Z0-9_,]+$"
            },
            "examples": {
              "example": {
                "value": "id,title,slug,projectType,status,totalUnits,unitsAvailable"
              }
            }
          },
          {
            "name": "where",
            "in": "query",
            "description": "Stringified JSON object for advanced filtering. It will be parsed server-side.",
            "required": false,
            "schema": {
              "type": "string"
            },
            "examples": {
              "byStatusAndType": {
                "summary": "Filter by status and projectType",
                "value": "{\"projectType\":\"residential\",\"status\": \"under_construction\",\"wilayah\":\"c97e6b9a-802b-44b0-965e-c2735643e54c\", \"commune\": \"3f06fbd1-c79b-426e-a40d-104928714375\"}"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List returned",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "projects": [
                          {
                            "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                            "title": "Modern Residential Complex Downtown",
                            "slug": "modern-residential-complex-downtown",
                            "projectType": "residential",
                            "status": "under_construction",
                            "totalUnits": 150,
                            "unitsAvailable": 45,
                            "createdAt": "2025-09-09T11:46:34.282Z",
                            "updatedAt": "2025-09-09T11:46:34.282Z"
                          },
                          {
                            "id": "275f0be2-9d40-4a7a-8a27-20ab268d7e7b",
                            "title": "Commercial Office Tower",
                            "slug": "commercial-office-tower",
                            "projectType": "commercial",
                            "status": "completed",
                            "totalUnits": 50,
                            "unitsAvailable": 12,
                            "createdAt": "2025-09-09T11:45:39.081Z",
                            "updatedAt": "2025-09-09T11:45:39.081Z"
                          }
                        ],
                        "pagination": {
                          "totalItems": 2,
                          "totalPages": 1,
                          "currentPage": 1,
                          "pageSize": 10
                        }
                      },
                      "message": "Projects fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/update-project/{id}": {
      "patch": {
        "tags": [
          "Project"
        ],
        "summary": "Update project",
        "description": "Update an existing project's information.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Project ID (UUID v4).",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "c5568a9c-db14-4c0b-8745-74b8e7a987ab"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "updatedBy": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the user updating the project.",
                    "example": "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                  },
                  "title": {
                    "type": "string",
                    "description": "Title of the project.",
                    "minLength": 5,
                    "maxLength": 180,
                    "example": "Updated Modern Residential Complex Downtown"
                  },
                  "slug": {
                    "type": "string",
                    "description": "URL-friendly slug for the project.",
                    "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$",
                    "minLength": 3,
                    "maxLength": 250,
                    "example": "updated-modern-residential-complex-downtown"
                  },
                  "wilayah": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Administrative region ID.",
                    "example": "12345678-abcd-ef01-2345-6789abcdef01"
                  },
                  "commune": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Smaller administrative division ID.",
                    "example": "fedcba98-7654-3210-fedc-ba9876543210"
                  },
                  "address": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 1000,
                    "description": "Full address of the project.",
                    "example": "Updated 123 Main Street, Downtown District"
                  },
                  "coordinates": {
                    "type": "object",
                    "nullable": true,
                    "description": "Geographic coordinates of the project.",
                    "properties": {
                      "lat": {
                        "type": "number",
                        "format": "float",
                        "description": "Latitude of the project.",
                        "example": 28.6139
                      },
                      "lng": {
                        "type": "number",
                        "format": "float",
                        "description": "Longitude of the project.",
                        "example": 77.209
                      }
                    },
                    "required": [
                      "lat",
                      "lng"
                    ]
                  },
                  "projectType": {
                    "type": "string",
                    "enum": [
                      "residential",
                      "commercial",
                      "mixed"
                    ],
                    "description": "Type of the project.",
                    "example": "residential"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "under_construction",
                      "completed"
                    ],
                    "description": "Current status of the project.",
                    "example": "under_construction"
                  },
                  "totalUnits": {
                    "type": "integer",
                    "description": "Total number of units in the project.",
                    "minimum": 1,
                    "maximum": 10000,
                    "example": 200
                  },
                  "unitsAvailable": {
                    "type": "integer",
                    "description": "Number of units currently available.",
                    "minimum": 0,
                    "maximum": 10000,
                    "example": 60
                  },
                  "description": {
                    "type": "string",
                    "description": "Detailed description of the project.",
                    "minLength": 10,
                    "maxLength": 5000,
                    "example": "An updated modern residential complex featuring luxury apartments with state-of-the-art amenities, located in the heart of downtown."
                  },
                  "published_at": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "Date when the project was published.",
                    "example": "2025-01-15T10:30:00Z"
                  },
                  "amenityIds": {
                    "type": "array",
                    "description": "Array of Amenity UUIDs associated with the project.",
                    "uniqueItems": true,
                    "maxItems": 100,
                    "items": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "example": [
                      "a1b2c3d4-e5f6-7890-1234-567890abcdef",
                      "b2c3d4e5-f6g7-8901-2345-678901bcdefg"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Project updated successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Updated": {
                    "value": {
                      "data": {
                        "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                        "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                        "updatedBy": "f0e9d8c7-b6a5-4321-fedc-ba9876543210",
                        "postedBy": null,
                        "title": "Updated Modern Residential Complex Downtown",
                        "slug": "updated-modern-residential-complex-downtown",
                        "wilayah": "c97e6b9a-802b-44b0-965e-c2735643e54c",
                        "commune": "3f06fbd1-c79b-426e-a40d-104928714375",
                        "address": "Updated 123 Main Street, Downtown District",
                        "coordinates": {
                          "lat": 28.6139,
                          "lng": 77.209
                        },
                        "projectType": "residential",
                        "status": "under_construction",
                        "totalUnits": 200,
                        "unitsAvailable": 60,
                        "description": "An updated modern residential complex featuring luxury apartments with state-of-the-art amenities, located in the heart of downtown.",
                        "published_at": "2025-01-15T10:30:00Z",
                        "createdAt": "2025-09-09T11:46:34.282Z",
                        "updatedAt": "2025-01-15T12:30:45.123Z",
                        "deletedAt": null
                      },
                      "message": "Project updated successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Project not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/delete-project/{id}": {
      "delete": {
        "tags": [
          "Project"
        ],
        "summary": "Delete project",
        "description": "Soft delete a project by ID (sets deletedAt timestamp).",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Project ID (UUID v4).",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "c5568a9c-db14-4c0b-8745-74b8e7a987ab"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project deleted successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Deleted": {
                    "value": {
                      "data": {
                        "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                        "deletedAt": "2025-01-15T12:30:45.123Z"
                      },
                      "message": "Project deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid project ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Project not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/detail-project/{id}": {
      "get": {
        "tags": [
          "Project"
        ],
        "summary": "Get project details",
        "description": "Retrieve detailed information about a specific project by ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Project ID (UUID v4).",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "c5568a9c-db14-4c0b-8745-74b8e7a987ab"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project details retrieved successfully",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "id": "c5568a9c-db14-4c0b-8745-74b8e7a987ab",
                        "createdBy": "068156f2-71e2-4e6d-8753-895491076e67",
                        "postedBy": null,
                        "title": "Modern Residential Complex Downtown",
                        "slug": "modern-residential-complex-downtown",
                        "wilayah": "c97e6b9a-802b-44b0-965e-c2735643e54c",
                        "commune": "3f06fbd1-c79b-426e-a40d-104928714375",
                        "address": "123 Main Street, Downtown District",
                        "coordinates": {
                          "lat": 28.6139,
                          "lng": 77.209
                        },
                        "projectType": "residential",
                        "status": "under_construction",
                        "totalUnits": 150,
                        "unitsAvailable": 45,
                        "description": "A modern residential complex featuring luxury apartments with state-of-the-art amenities, located in the heart of downtown.",
                        "published_at": null,
                        "createdAt": "2025-09-09T11:46:34.282Z",
                        "updatedAt": "2025-09-09T11:46:34.282Z",
                        "deletedAt": null
                      },
                      "message": "Project details fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid project ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Project not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/create-project-media": {
      "post": {
        "tags": [
          "Project Media"
        ],
        "summary": "Create project media",
        "description": "Uploads and associates media files (images, videos, documents) with a project.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "projectId",
                  "media"
                ],
                "properties": {
                  "projectId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the project to associate media with.",
                    "example": "5ef4c133-968f-4211-90e1-f9f4d2082485"
                  },
                  "userId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the user uploading the media (auto-populated from token if not provided).",
                    "example": "068156f2-71e2-4e6d-8753-895491076e67"
                  },
                  "media": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Media files to upload (images, videos, documents). Maximum 10 files.",
                    "maxItems": 10
                  },
                  "mediaType": {
                    "type": "string",
                    "enum": [
                      "image",
                      "video",
                      "document",
                      "audio"
                    ],
                    "description": "Type of media being uploaded.",
                    "default": "image",
                    "example": "image"
                  },
                  "caption": {
                    "type": "string",
                    "nullable": true,
                    "description": "Caption or description for the media.",
                    "maxLength": 500,
                    "example": "Main project view from the entrance"
                  },
                  "isPrimary": {
                    "type": "boolean",
                    "default": false,
                    "description": "Whether this media should be the primary/featured media for the project.",
                    "example": true
                  },
                  "altText": {
                    "type": "string",
                    "nullable": true,
                    "description": "Alternative text for accessibility (especially for images).",
                    "maxLength": 200,
                    "example": "Modern residential complex exterior view"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "nullable": true,
                    "description": "Tags to categorize the media.",
                    "example": [
                      "exterior",
                      "entrance",
                      "main-view"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Project media created successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Created": {
                    "value": {
                      "data": [
                        {
                          "id": "media-123-456-789",
                          "projectId": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                          "userId": "068156f2-71e2-4e6d-8753-895491076e67",
                          "mediaType": "image",
                          "mediaUrl": "https://example.com/uploads/project-media-123456789.jpg",
                          "caption": "Main project view from the entrance",
                          "isPrimary": true,
                          "altText": "Modern residential complex exterior view",
                          "tags": [
                            "exterior",
                            "entrance",
                            "main-view"
                          ],
                          "fileSize": 2048576,
                          "mimeType": "image/jpeg",
                          "createdAt": "2025-09-15T09:29:31.766Z",
                          "updatedAt": "2025-09-15T09:29:31.766Z"
                        },
                        {
                          "id": "media-987-654-321",
                          "projectId": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                          "userId": "068156f2-71e2-4e6d-8753-895491076e67",
                          "mediaType": "video",
                          "mediaUrl": "https://example.com/uploads/project-video-987654321.mp4",
                          "caption": "Project walkthrough video",
                          "isPrimary": false,
                          "altText": null,
                          "tags": [
                            "video",
                            "walkthrough"
                          ],
                          "fileSize": 15728640,
                          "mimeType": "video/mp4",
                          "createdAt": "2025-09-15T09:29:31.766Z",
                          "updatedAt": "2025-09-15T09:29:31.766Z"
                        }
                      ],
                      "message": "Project media created successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or file upload error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "413": {
            "description": "File too large",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/delete-project-media/{id}": {
      "delete": {
        "tags": [
          "Project Media"
        ],
        "summary": "Delete project media",
        "description": "Deletes a project media item permanently. Only the media owner or admin can delete.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the project media to delete.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "media-123-456-789"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project media deleted successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Deleted": {
                    "value": {
                      "data": {
                        "id": "media-123-456-789",
                        "deletedAt": "2025-09-15T10:30:15.456Z"
                      },
                      "message": "Project media deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Project media not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/get-project-media": {
      "get": {
        "tags": [
          "Project Media"
        ],
        "summary": "List project media",
        "description": "Retrieves a paginated list of project media with optional filtering.\nCan filter by project ID, media type, and other criteria.\n",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default 1).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (1–100, default 10).",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "projectId",
            "in": "query",
            "description": "Filter media by project ID.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "5ef4c133-968f-4211-90e1-f9f4d2082485"
            }
          },
          {
            "name": "mediaType",
            "in": "query",
            "description": "Filter by media type.",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "image",
                "video",
                "document",
                "audio"
              ],
              "example": "image"
            }
          },
          {
            "name": "isPrimary",
            "in": "query",
            "description": "Filter by primary media status.",
            "required": false,
            "schema": {
              "type": "boolean",
              "example": true
            }
          },
          {
            "name": "select",
            "in": "query",
            "description": "Comma-separated list of fields to include.",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^[a-zA-Z0-9_,]+$"
            },
            "examples": {
              "example": {
                "value": "id,projectId,mediaType,mediaUrl,caption,isPrimary"
              }
            }
          },
          {
            "name": "where",
            "in": "query",
            "description": "Stringified JSON object for advanced filtering.",
            "required": false,
            "schema": {
              "type": "string"
            },
            "examples": {
              "byProjectAndType": {
                "summary": "Filter by project and media type",
                "value": "{\"projectId\":\"5ef4c133-968f-4211-90e1-f9f4d2082485\",\"mediaType\":\"image\"}"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project media list retrieved successfully",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "value": {
                      "data": {
                        "projectMedia": [
                          {
                            "id": "media-123-456-789",
                            "projectId": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                            "mediaType": "image",
                            "mediaUrl": "https://example.com/uploads/project-media-123456789.jpg",
                            "caption": "Main project view from the entrance",
                            "isPrimary": true,
                            "altText": "Modern residential complex exterior view",
                            "tags": [
                              "exterior",
                              "entrance",
                              "main-view"
                            ],
                            "fileSize": 2048576,
                            "mimeType": "image/jpeg",
                            "createdAt": "2025-09-15T09:29:31.766Z",
                            "updatedAt": "2025-09-15T09:29:31.766Z"
                          },
                          {
                            "id": "media-987-654-321",
                            "projectId": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                            "mediaType": "video",
                            "mediaUrl": "https://example.com/uploads/project-video-987654321.mp4",
                            "caption": "Project walkthrough video",
                            "isPrimary": false,
                            "altText": null,
                            "tags": [
                              "video",
                              "walkthrough"
                            ],
                            "fileSize": 15728640,
                            "mimeType": "video/mp4",
                            "createdAt": "2025-09-15T09:29:31.766Z",
                            "updatedAt": "2025-09-15T09:29:31.766Z"
                          }
                        ],
                        "pagination": {
                          "totalItems": 2,
                          "totalPages": 1,
                          "currentPage": 1,
                          "pageSize": 10
                        }
                      },
                      "message": "Project media fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/detail-project-media/{id}": {
      "get": {
        "tags": [
          "Project Media"
        ],
        "summary": "Get project media details",
        "description": "Retrieves detailed information about a specific project media item by its ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the project media to retrieve.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "media-123-456-789"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project media details retrieved successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Success": {
                    "value": {
                      "data": {
                        "id": "media-123-456-789",
                        "projectId": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                        "userId": "068156f2-71e2-4e6d-8753-895491076e67",
                        "mediaType": "image",
                        "mediaUrl": "https://example.com/uploads/project-media-123456789.jpg",
                        "caption": "Main project view from the entrance",
                        "isPrimary": true,
                        "altText": "Modern residential complex exterior view",
                        "tags": [
                          "exterior",
                          "entrance",
                          "main-view"
                        ],
                        "fileSize": 2048576,
                        "mimeType": "image/jpeg",
                        "originalFileName": "project-main-view.jpg",
                        "createdAt": "2025-09-15T09:29:31.766Z",
                        "updatedAt": "2025-09-15T09:29:31.766Z",
                        "project": {
                          "id": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                          "title": "Modern Residential Complex in Downtown",
                          "slug": "modern-residential-complex-downtown",
                          "status": "active"
                        }
                      },
                      "message": "Project media details fetched successfully"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Project media not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/project/update-project-media/{id}": {
      "patch": {
        "tags": [
          "Project Media"
        ],
        "summary": "Update project media",
        "description": "Updates metadata and information for an existing project media item. Only the media owner or admin can update.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the project media to update.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "media-123-456-789"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "caption": {
                    "type": "string",
                    "nullable": true,
                    "description": "Updated caption or description for the media.",
                    "maxLength": 500,
                    "example": "Updated main project view from the entrance"
                  },
                  "isPrimary": {
                    "type": "boolean",
                    "description": "Whether this media should be the primary/featured media for the project.",
                    "example": true
                  },
                  "altText": {
                    "type": "string",
                    "nullable": true,
                    "description": "Updated alternative text for accessibility.",
                    "maxLength": 200,
                    "example": "Updated modern residential complex exterior view"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "nullable": true,
                    "description": "Updated tags to categorize the media.",
                    "example": [
                      "exterior",
                      "entrance",
                      "main-view",
                      "updated"
                    ]
                  },
                  "mediaType": {
                    "type": "string",
                    "enum": [
                      "image",
                      "video",
                      "document",
                      "audio"
                    ],
                    "description": "Updated type of media.",
                    "example": "image"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Project media updated successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Updated": {
                    "value": {
                      "data": {
                        "id": "media-123-456-789",
                        "projectId": "5ef4c133-968f-4211-90e1-f9f4d2082485",
                        "userId": "068156f2-71e2-4e6d-8753-895491076e67",
                        "mediaType": "image",
                        "mediaUrl": "https://example.com/uploads/project-media-123456789.jpg",
                        "caption": "Updated main project view from the entrance",
                        "isPrimary": true,
                        "altText": "Updated modern residential complex exterior view",
                        "tags": [
                          "exterior",
                          "entrance",
                          "main-view",
                          "updated"
                        ],
                        "fileSize": 2048576,
                        "mimeType": "image/jpeg",
                        "updatedAt": "2025-09-15T10:15:42.123Z"
                      },
                      "message": "Project media updated successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Project media not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "HealthInfo": {
        "type": "object",
        "required": [
          "status",
          "uptime",
          "timestamp",
          "memoryUsage",
          "database"
        ],
        "properties": {
          "status": {
            "type": "string",
            "description": "Current health status of the service",
            "example": "ok"
          },
          "uptime": {
            "type": "number",
            "format": "float",
            "description": "Application uptime in seconds",
            "example": 8.7257867
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Current server timestamp",
            "example": "2025-08-22T06:22:34.399Z"
          },
          "memoryUsage": {
            "type": "object",
            "description": "Node.js process memory usage in bytes",
            "properties": {
              "rss": {
                "type": "integer",
                "description": "Resident Set Size",
                "example": 97447936
              },
              "heapTotal": {
                "type": "integer",
                "description": "Total size of the allocated heap",
                "example": 62509056
              },
              "heapUsed": {
                "type": "integer",
                "description": "Actual memory used during execution",
                "example": 29971376
              },
              "external": {
                "type": "integer",
                "description": "Memory used by C++ objects bound to JavaScript objects",
                "example": 2800316
              },
              "arrayBuffers": {
                "type": "integer",
                "description": "Memory allocated for ArrayBuffers",
                "example": 160457
              }
            }
          },
          "database": {
            "type": "object",
            "description": "Database connection health",
            "properties": {
              "status": {
                "type": "string",
                "description": "Status of the database connection",
                "example": "up"
              }
            }
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "error",
          "message"
        ],
        "properties": {
          "error": {
            "type": "string",
            "description": "A short, machine-readable error code identifying the error type."
          },
          "message": {
            "type": "string",
            "description": "A clear, human-readable description of what went wrong."
          }
        }
      },
      "Role": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier of the role",
            "example": "c43fe513-74cb-4d6f-824f-0343c64c8cf4"
          },
          "name": {
            "type": "string",
            "description": "Name of the role",
            "example": "Seller"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the role",
            "example": "Seller with limited access"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier of the user",
            "example": "068156f2-71e2-4e6d-8753-895491076e67"
          },
          "firstName": {
            "type": "string",
            "description": "First name of the user",
            "example": "Santu"
          },
          "lastName": {
            "type": "string",
            "description": "Last name of the user",
            "example": "Pradhan"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address of the user",
            "example": "spradhan@yopmail.com"
          },
          "roleId": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the role assigned to the user",
            "example": "17ae7092-4c41-4a02-9256-885573f3b043"
          },
          "isActive": {
            "type": "boolean",
            "description": "Indicates if the user account is active",
            "example": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "ISO timestamp when the user was created",
            "example": "2025-08-28T14:02:29.255Z"
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          }
        },
        "required": [
          "id",
          "firstName",
          "lastName",
          "email",
          "roleId",
          "isActive",
          "createdAt"
        ]
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "description": "Current page number (1-based)",
            "example": 1
          },
          "pageSize": {
            "type": "integer",
            "description": "Number of items per page",
            "example": 20
          },
          "total": {
            "type": "integer",
            "description": "Total number of items across all pages",
            "example": 42
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages",
            "example": 3
          },
          "hasNextPage": {
            "type": "boolean",
            "description": "Indicates if another page exists after the current one",
            "example": true
          },
          "hasPrevPage": {
            "type": "boolean",
            "description": "Indicates if a page exists before the current one",
            "example": false
          }
        },
        "required": [
          "page",
          "pageSize",
          "total",
          "totalPages",
          "hasNextPage",
          "hasPrevPage"
        ],
        "example": {
          "page": 1,
          "pageSize": 20,
          "total": 42,
          "totalPages": 3,
          "hasNextPage": true,
          "hasPrevPage": false
        }
      },
      "UserListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/User"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/Pagination"
          }
        },
        "required": [
          "data",
          "pagination"
        ],
        "example": {
          "data": [
            {
              "id": "068156f2-71e2-4e6d-8753-895491076e67",
              "firstName": "Santu",
              "lastName": "Pradhan",
              "email": "spradhan@yopmail.com",
              "roleId": "17ae7092-4c41-4a02-9256-885573f3b043",
              "isActive": true,
              "createdAt": "2025-08-28T14:02:29.255Z",
              "role": {
                "id": "17ae7092-4c41-4a02-9256-885573f3b043",
                "name": "Seller",
                "description": "Seller with limited access"
              }
            }
          ],
          "pagination": {
            "page": 1,
            "pageSize": 20,
            "total": 1,
            "totalPages": 1,
            "hasNextPage": false,
            "hasPrevPage": false
          }
        }
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "Authorization",
        "description": "JWT Bearer token for authentication",
        "example": "Bearer <token>"
      }
    },
    "responses": {
      "NotFound": {
        "$ref": "#/components/responses/ErrorResponse"
      },
      "Unauthorized": {
        "$ref": "#/components/responses/ErrorResponse"
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "error",
          "message"
        ],
        "properties": {
          "error": {
            "type": "string",
            "description": "A short, machine-readable error code identifying the error type."
          },
          "message": {
            "type": "string",
            "description": "A clear, human-readable description of what went wrong."
          }
        }
      }
    }
  }
}